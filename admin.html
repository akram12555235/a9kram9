<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ููุญุฉ ุงูุชุญูู - ููุถูุฉ ุงูุฑู</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="admin.css" />
  </head>
  <body>
    <div class="noise-overlay"></div>

    <!-- ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="login-screen" class="login-container">
      <div class="login-card">
        <div class="login-header">
          <h1>๐ ููุญุฉ ุงูุชุญูู</h1>
          <p>ููุถูุฉ ุงูุฑู - ูุธุงู ุงูุฑุณุงุฆู ุงูุขูู</p>
        </div>

        <form class="login-form" onsubmit="handleAdminLogin(event)">
          <div class="form-group">
            <label for="admin-username">๐ค ุงุณู ุงููุณุชุฎุฏู:</label>
            <input
              type="text"
              id="admin-username"
              name="username"
              placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู"
              required
            />
          </div>

          <div class="form-group">
            <label for="admin-password">๐ ูููุฉ ุงููุฑูุฑ:</label>
            <input
              type="password"
              id="admin-password"
              name="password"
              placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ"
              required
            />
          </div>

          <button type="submit" class="btn primary full-width">ุฏุฎูู ๐ช</button>
        </form>

        <div class="login-hint">
          <p>๐ก ูุฐุง ุงููุธุงู ูุญูู ุจุงููุงูู ูุขูู</p>
          <p>ุงุณุชุฎุฏู ุจูุงูุงุช ุงูุฏุฎูู ุงูุฎุงุตุฉ ุจู</p>
        </div>
      </div>
    </div>

    <!-- ููุญุฉ ุงูุชุญูู -->
    <div id="admin-dashboard" class="admin-dashboard hidden">
      <header class="admin-header">
        <div class="header-content">
          <h1>๐๏ธ ููุญุฉ ุงูุชุญูู</h1>
          <p>ูุธุงู ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ุงูุขููุฉ</p>
        </div>
        <div class="admin-user">
          <span id="current-user">ุงููุณุคูู</span>
          <button class="btn ghost small" onclick="handleAdminLogout()">
            ุฎุฑูุฌ ๐ช
          </button>
        </div>
      </header>

      <div class="admin-layout">
        <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
        <aside class="admin-sidebar">
          <nav class="sidebar-nav">
            <button class="nav-btn active" data-section="overview">
              ๐ ูุธุฑุฉ ุนุงูุฉ
            </button>
            <button class="nav-btn" data-section="messages">๐ฌ ุงูุฑุณุงุฆู</button>
            <button class="nav-btn" data-section="analytics">
              ๐ ุงูุฅุญุตุงุฆูุงุช
            </button>
            <button class="nav-btn" data-section="settings">
              โ๏ธ ุงูุฅุนุฏุงุฏุงุช
            </button>
          </nav>

          <div class="sidebar-stats">
            <div class="stat">
              <span class="stat-label">ุฑุณุงุฆู ุฌุฏูุฏุฉ</span>
              <span class="stat-value" id="new-messages-count">0</span>
            </div>
            <div class="stat">
              <span class="stat-label">ุฅุฌูุงูู</span>
              <span class="stat-value" id="total-messages-count">0</span>
            </div>
          </div>
        </aside>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="admin-content">
          <!-- ูุณู ุงููุธุฑุฉ ุงูุนุงูุฉ -->
          <section id="overview-section" class="admin-section active">
            <h2>๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู</h2>

            <div class="stats-grid">
              <div class="stat-card">
                <span class="stat-icon">๐ฌ</span>
                <span class="stat-label">ุฅุฌูุงูู ุงูุฑุณุงุฆู</span>
                <span class="stat-number" id="total-stats">0</span>
              </div>
              <div class="stat-card">
                <span class="stat-icon">๐ฌ</span>
                <span class="stat-label">ุฑุณุงุฆู ุนุงู</span>
                <span class="stat-number" id="general-stats">0</span>
              </div>
              <div class="stat-card">
                <span class="stat-icon">๐</span>
                <span class="stat-label">ุฑุณุงุฆู ุณุฑูุฉ</span>
                <span class="stat-number" id="secure-stats">0</span>
              </div>
              <div class="stat-card">
                <span class="stat-icon">๐ฅ</span>
                <span class="stat-label">ุฑุณุงุฆู ุฃุนุถุงุก</span>
                <span class="stat-number" id="member-stats">0</span>
              </div>
            </div>

            <div class="dashboard-widgets">
              <div class="widget">
                <h3>๐ด ุฑุณุงุฆู ุญุฑุฌุฉ ุฌุฏูุฏุฉ</h3>
                <div id="critical-messages" class="messages-preview">
                  <p class="empty-preview">ูุง ุชูุฌุฏ ุฑุณุงุฆู ุญุฑุฌุฉ</p>
                </div>
              </div>

              <div class="widget">
                <h3>๐ ุฑุณุงุฆู ุนุงุฌูุฉ</h3>
                <div id="urgent-messages" class="messages-preview">
                  <p class="empty-preview">ูุง ุชูุฌุฏ ุฑุณุงุฆู ุนุงุฌูุฉ</p>
                </div>
              </div>
            </div>
          </section>

          <!-- ูุณู ุงูุฑุณุงุฆู -->
          <section id="messages-section" class="admin-section">
            <h2>๐ฌ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู</h2>

            <div class="messages-controls">
              <div class="search-box">
                <input
                  type="text"
                  id="message-search"
                  placeholder="๐ ุจุญุซ ุนู ุฑุณุงูุฉ..."
                />
              </div>

              <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">
                  ุงููู
                </button>
                <button class="filter-btn" data-filter="general">ุนุงู</button>
                <button class="filter-btn" data-filter="secure">ุณุฑู</button>
                <button class="filter-btn" data-filter="member">ุนุถู</button>
              </div>

              <div class="sort-buttons">
                <button class="sort-btn active" data-sort="newest">
                  ุฃุญุฏุซ ๐
                </button>
                <button class="sort-btn" data-sort="oldest">ุฃูุฏู ๐</button>
                <button class="sort-btn" data-sort="priority">ุฃููููุฉ โก</button>
              </div>
            </div>

            <div id="messages-container" class="messages-admin-list">
              <p class="loading">ุฌุงุฑู ุงูุชุญููู...</p>
            </div>
          </section>

          <!-- ูุณู ุงูุฅุญุตุงุฆูุงุช -->
          <section id="analytics-section" class="admin-section">
            <h2>๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชูุฏูุฉ</h2>

            <div class="analytics-grid">
              <div class="chart-box">
                <h3>๐ ุชูุฒูุน ุงูุฑุณุงุฆู</h3>
                <canvas id="messages-chart" height="200"></canvas>
              </div>

              <div class="chart-box">
                <h3>โฐ ุงูุฃููููุงุช</h3>
                <div id="priority-stats" class="priority-breakdown"></div>
              </div>
            </div>

            <div class="analytics-table">
              <h3>๐ ููุฎุต ุงูุฃูุดุทุฉ</h3>
              <table>
                <thead>
                  <tr>
                    <th>ุงูููุน</th>
                    <th>ุงูุนุฏุฏ</th>
                    <th>ุงููุณุจุฉ</th>
                    <th>ุขุฎุฑ ุชุญุฏูุซ</th>
                  </tr>
                </thead>
                <tbody id="analytics-tbody">
                  <tr>
                    <td colspan="4" class="empty-table">
                      ุฌุงุฑู ุฌูุน ุงูุจูุงูุงุช...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- ูุณู ุงูุฅุนุฏุงุฏุงุช -->
          <section id="settings-section" class="admin-section">
            <h2>โ๏ธ ุงูุฅุนุฏุงุฏุงุช</h2>

            <div class="settings-grid">
              <div class="setting-card">
                <h3>๐๏ธ ุญุฐู ุงูุจูุงูุงุช</h3>
                <p>ุญุฐู ุฌููุน ุงูุฑุณุงุฆู ุงููุญููุธุฉ (ุนูููุฉ ูุง ุชูุฑุฌุน)</p>
                <button class="btn danger" onclick="deleteAllData()">
                  ุญุฐู ุงููู
                </button>
              </div>

              <div class="setting-card">
                <h3>๐ฅ ุชุตุฏูุฑ ุงูุจูุงูุงุช</h3>
                <p>ุชุญููู ุฌููุน ุงูุฑุณุงุฆู ูููู JSON</p>
                <button class="btn secondary" onclick="exportAllData()">
                  ุชุตุฏูุฑ
                </button>
              </div>

              <div class="setting-card">
                <h3>๐ ุชุญุฏูุซ ุงููุฏ</h3>
                <p>ุชุญุฏูุซ ุงูุจูุงูุงุช ูุงูุฑุณุงุฆู ูุฏููุงู</p>
                <button class="btn secondary" onclick="refreshData()">
                  ุชุญุฏูุซ
                </button>
              </div>

              <div class="setting-card">
                <h3>๐ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</h3>
                <p>ูู ุจุชุบููุฑ ุจูุงูุงุช ุงูุฏุฎูู ุงูุฎุงุตุฉ ุจู</p>
                <button class="btn secondary" onclick="changePassword()">
                  ุชุบููุฑ
                </button>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- Modal ููุฑุณุงูุฉ ุงูุชูุตูููุฉ -->
    <div id="message-detail-modal" class="modal">
      <div class="modal-content large">
        <button
          class="modal-close"
          onclick="closeModal('message-detail-modal')"
        >
          โ
        </button>
        <div id="message-detail-content"></div>
      </div>
    </div>

    <!-- Modal ุชุฃููุฏ ุงูุญุฐู -->
    <div id="confirm-modal" class="modal">
      <div class="modal-content">
        <h3 id="confirm-title">ุชุฃููุฏ</h3>
        <p id="confirm-message"></p>
        <div class="modal-buttons">
          <button class="btn primary" onclick="confirmDelete()">
            ุชุฃููุฏ โ
          </button>
          <button class="btn ghost" onclick="closeModal('confirm-modal')">
            ุฅูุบุงุก โ
          </button>
        </div>
      </div>
    </div>

    <script src="secure-contact.js"></script>
    <script src="admin.js"></script>
  </body>
</html>
